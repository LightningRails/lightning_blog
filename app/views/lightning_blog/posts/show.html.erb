<div class="container mx-auto px-4 py-8 max-w-4xl">
  <article class="prose prose-lg max-w-none">
    <!-- Post Header -->
    <header class="mb-8 text-center">
      <!-- Post Meta -->
      <div class="flex flex-wrap justify-center gap-2 mb-6 text-sm">
        <% if @post.category %>
          <%= link_to @post.category.name, 
              lightning_blog.category_path(@post.category), 
              class: "badge badge-primary badge-lg" %>
        <% end %>
        <span class="badge badge-ghost badge-lg">
          <%= @post.published_at.strftime("%B %d, %Y") %>
        </span>
        <span class="badge badge-ghost badge-lg">
          <%= @post.reading_time %> min read
        </span>
        <span class="badge badge-ghost badge-lg">
          <%= pluralize(@post.views_count, 'view') %>
        </span>
      </div>
      
      <h1 class="text-4xl md:text-5xl font-bold text-base-content mb-6"><%= @post.title %></h1>
      
      <% if @post.excerpt.present? %>
        <div class="text-xl text-base-content/70 mb-6 font-medium">
          <%= @post.excerpt %>
        </div>
      <% end %>
    </header>
    
    <!-- Featured Image -->
    <% if @post.featured_image_file.attached? %>
      <figure class="mb-8">
        <%= image_tag @post.featured_image_file, 
            alt: @post.title,
            class: "w-full rounded-lg shadow-lg" %>
      </figure>
    <% end %>
    
    <!-- Post Content -->
    <div class="prose prose-lg max-w-none prose-headings:text-base-content prose-p:text-base-content prose-a:text-primary prose-strong:text-base-content prose-code:text-base-content prose-pre:bg-base-200 prose-blockquote:text-base-content prose-blockquote:border-primary">
      <%= simple_format(@post.content) %>
    </div>
  </article>
  
  <!-- Navigation -->
  <div class="text-center my-8">
    <%= link_to lightning_blog.root_path, class: "btn btn-outline" do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      Back to Blog
    <% end %>
  </div>
  
  <!-- Related Posts -->
  <% if @related_posts.any? %>
    <section class="mt-12">
      <div class="divider">
        <h3 class="text-2xl font-bold text-base-content">Related Posts</h3>
      </div>
      
      <div class="grid md:grid-cols-3 gap-6 mt-8">
        <% @related_posts.each do |post| %>
          <div class="card bg-base-100 shadow-md hover:shadow-lg transition-shadow">
            <% if post.featured_image_file.attached? %>
              <figure class="h-32 overflow-hidden">
                <%= image_tag post.featured_image_file, 
                    alt: post.title,
                    class: "w-full h-full object-cover" %>
              </figure>
            <% end %>
            
            <div class="card-body p-4">
              <h4 class="card-title text-base">
                <%= link_to post.title, 
                    lightning_blog.post_path(post),
                    class: "hover:text-primary transition-colors" %>
              </h4>
              <p class="text-sm text-base-content/70">
                <%= post.published_at.strftime("%B %d, %Y") %>
              </p>
            </div>
          </div>
        <% end %>
      </div>
    </section>
  <% end %>
</div> 